window.TC=window.TC||{},function(){TC.timer={},TC.timer.getTimer=function(a){var b=parseInt(a/1e3/60/60/24,10),c=parseInt(a/1e3/60/60%24,10),d=parseInt(a/1e3/60%60,10),e=parseInt(a/1e3%60,10);return b=TC.timer.checkTimer(b),c=TC.timer.checkTimer(c),d=TC.timer.checkTimer(d),e=TC.timer.checkTimer(e),{day:b,hour:c,min:d,sec:e}},TC.timer.checkTimer=function(a){return 10>a&&(a="0"+a),a},TC.timer.init=function(a,b){var c,d;a>0?(c=TC.timer.getTimer(a),b.ddObj.text(c.day),b.hhObj.text(c.hour),b.mmObj.text(c.min),b.ssObj.text(c.sec)):$("#pay-go-fixed").css("background","#ccc").text("活动已结束").attr("href","javascript:void(0)"),d=setInterval(function(){a>0?(a-=1e3,c=TC.timer.getTimer(a),b.ddObj.text(c.day),b.hhObj.text(c.hh),b.mmObj.text(c.min),b.ssObj.text(c.sec)):(clearInterval(d),$("#pay-go-fixed").css("background","#ccc").text("活动已结束").attr("href","javascript:void(0)"))},1e3)}}(),function(){var a=function(a){var c="";c+='<div id="mb_box"></div><div id="mb_con">',c+='<div id="mb_msg">'+a.msg+'</div><div id="mb_btnbox">',c+="</div></div>",$("body").append(c),b(a)},b=function(a){var b,d,f;$("#mb_box").css({width:"100%",height:"100%",zIndex:"99999 ",position:"fixed",filter:"Alpha(opacity=1)",backgroundColor:"#fff",top:"0",left:"0",opacity:"0"}),$("#mb_con").css({zIndex:"999999",width:"50%",position:"fixed",backgroundColor:"none",borderRadius:"10px"}),$("#mb_msg").css({width:"100%",lineHeight:"22px",margin:"68% auto 0 auto",fontSize:"14px",color:"#f56414",textAlign:"center",background:"#000",opacity:"0.6",color:"#fff","border-radius":"10px",padding:"15px"}),b=document.documentElement.clientWidth,document.documentElement.clientHeight,d=$("#mb_con").width(),$("#mb_con").height(),f=a.bottom||"10px",$("#mb_con").css({bottom:f,left:(b-d-30)/2+"px"})},d={show:function(b){a(b),setTimeout(function(){$("#mb_box,#mb_con").remove()},2e3)}};TC.ToastBox=d}(),function(){TC.sideSlider=TC.sideSlider||{},TC.sideSlider.scrollTop=0,TC.sideSlider.open=function(){$("#sider-mark").height($(document).height()),$("#sider-wrap,#sider-mark").css("display","block"),TC.sideSlider.scrollTop=$(window).scrollTop(),$("body").css("position","fixed")},TC.sideSlider.close=function(){$("body").css("position","static"),$(window).scrollTop(TC.sideSlider.scrollTop),$("#sider-wrap,#sider-mark").hide("fast",function(){$("#sider-wrap").scrollTop(0)})}}(),function(){TC.fixed={},TC.fixed.fixedLetterArr=[],TC.fixed.fixedLetter=function(a,b){fixedLetterArr=[],a.each(function(){fixedLetterArr.push($(this).position().top)}),$(".ziMuUl .zimu").on("click",function(){var a=$(this).index();b.scrollTop(fixedLetterArr[a])})}}(),function(){TC.search=TC.search||{},TC.search.searchajax={hoturl:"/search/getHotWords?cityId="+$("#currentCityId").val()+"&cityName="+$("#currentCityName").val()+"&py="+$("#currentCityPy").val(),hottype:"get",hotdataType:"json",novourl:"/search/getSuggestWords?cityId="+$("#currentCityId").val()+"&cityName="+$("#currentCityName").val(),novotype:"get",novodataType:"json"},TC.search.HTML='<section id="layout_search" class="layout_search"><div class="layout_search_form"><div id="layout_search_close" class="layout_search_close"></div><form class="clearfix" name="submit_search" action="/'+$("#currentCityPy").val()+'/search" method="post">'+'<div id="layout_search_form_clear" class="layout_search_form_clear">&times;</div>'+'<input class="fl layout-search-submit" type="submit" />'+'<input id="layout-search-txt" class="fl layout-search-txt" type="text" name="keyword" placeholder="请输入品牌、车型" />'+"</form>"+"</div>"+'<div id="layout_search_hot" class="layout_search_hot">'+'<div class="layout_search_hot-tit">热门搜索</div>'+'<div class="clearfix layout_search_hot-con">'+'<ul id="layout_search_hot-con-ul" class="clearfix">'+"</ul>"+"</div>"+"</div>"+'<div id="layout_search_associate" class="layout_search_associate">'+'<ul id="layout_search_associate-ul"></ul>'+"</div>"+"</section>",TC.search.clearinput=function(){searchinputTxt=$.trim($("#layout-search-txt").val()),""==searchinputTxt&&($("#layout_search_hot").show(),$("#layout_search_associate").hide())},TC.search.appendNovo=function(a){a&&(TC.search.searchajax.novourl=a.url,TC.search.searchajax.novotype=a.type,TC.search.searchajax.novodataType=a.dataType),$.ajax({url:TC.search.searchajax.novourl,type:TC.search.searchajax.novotype,dataType:TC.search.searchajax.novodataType,data:{keyword:$("#layout-search-txt").val()},success:function(a){var c,d,e,b="";if(a){for(c in a)d=a[c].id.indexOf("_"),e=a[c].id.substring(0,d),b+='<li class="clearfix"><a class="clearfix" href="/'+$("#currentCityPy").val()+"/c"+e+'"><em></em><span class="fl">'+a[c].name+'</span><span class="fr">'+a[c].manNum+a[c].suffix+"</span></a></li>";$("#layout_search_associate-ul").empty(),$("#layout_search_associate-ul").append(b),$("#layout_search_associate").show(),$("#layout_search_hot").hide()}},error:function(){alert("系统忙，请稍后！")}})},TC.search.close=function(){$("#layout_search").hide(),$("#layout_search_hot").show(),$("#layout_search_associate").hide(),$("#layout-search-txt").val("")},TC.search.init=function(a){0==$("#layout_search").size()?($("body").append(TC.search.HTML),$("#layout_search").height($(document).height()),a&&(TC.search.searchajax.hoturl=a.url,TC.search.searchajax.hottype=a.type,TC.search.searchajax.hotdataType=a.dataType),$.ajax({url:TC.search.searchajax.hoturl,type:TC.search.searchajax.hottype,dataType:TC.search.searchajax.hotdataType,async:!1,success:function(a){var c,b="";if(a){for(c in a)b+='<li><a href="'+a[c].url+'">'+a[c].keywords+"</a></li>";$("#layout_search_hot-con-ul").append(b),$("#layout_search").show(),$("#layout-search-txt").get(0).focus(),$("#layout-search-txt").on("input",function(){$("#layout_search_form_clear").show(),TC.search.appendNovo()}),$("#layout-search-txt").on("blur",function(){TC.search.clearinput()}),$("#layout_search_form_clear").click(function(){$("#layout-search-txt").val(""),$(this).hide(),TC.search.clearinput()}),$("#layout_search_close").click(function(){TC.search.close()})}},error:function(){alert("系统忙，请稍后！")}})):$("#layout_search").show()}}(),function(){TC.getCar=TC.getCar||{},TC.getCar.getCarajax={brandurl:"/common/getCarBrand",brandtype:"get",branddataType:"json",branddataData:{cityId:$("#currentCityId").val()},carurl:"/common/getCarStyle",cartype:"get",cardataType:"json",cardataData:{cityId:$("#currentCityId").val()}},TC.getCar.Html='<div id="sider-mark" class="sider-mark"></div><div id="sider-wrap" class="sider-wrap"><div id="side-brand" class="side-div side-brand"></div><div id="side-carstyle" class="side-div side-carstyle"></div></div>',TC.getCar.appendBrand=function(brandJson,styleJson){brandJson&&(TC.getCar.getCarajax.brandurl=brandJson.curl,TC.getCar.getCarajax.brandtype=brandJson.ctype,TC.getCar.getCarajax.branddataType=brandJson.cdataType,TC.getCar.getCarajax.branddataData=brandJson.cdata),$.ajax({url:TC.getCar.getCarajax.brandurl,type:TC.getCar.getCarajax.brandtype,dataType:TC.getCar.getCarajax.branddataType,data:TC.getCar.getCarajax.branddataData,beforeSend:function(){TC.sideSlider.open(),$("#side-brand").css("display","block").append("<div class='seo-loading'>正在加载，请稍后</div>")},success:function(data){var header,newData,ziStr,brandlist,i,j;if($("#side-brand").find(".seo-loading").remove(),Zepto.isEmptyObject(data))TC.ToastBox.show({msg:"该城市没有开通团购车型",bottom:"50%"});else{header='<div class="side-header"><span class="side-back-all"></span><span class="title">选择品牌</span></div>',newData=[],data=eval("("+data.result+")"),ziStr='<div class="ziMuBody"><ul id="ziMuUl" class="ziMuUl">',brandlist="";for(i in data){ziStr+='<li class="zimu">'+i+"</li>",brandlist+='<dl class="side-list"><dt class="side-list-dt">'+i+"</dt>";for(j in data[i])brandlist+='<dd class="side-list-dd" data-rel="'+data[i][j].id+'"><img class="scrollLoading side-list-dd-brand" src="'+data[i][j].logo+'">'+data[i][j].name+"</dd>";brandlist+="</dl>"}ziStr+="</ul></div>",$("#side-brand").html(header+brandlist+ziStr),$(".side-div").css("display","none"),$("#side-brand").css("display","block"),TC.fixed.fixedLetter($("#side-brand .side-list-dt"),$("#sider-wrap")),$(".ziMuBody").height($(window).height()),$("#side-brand").delegate(".side-list-dd","click",function(){var a=$(this).data("rel"),b=$(this).text();$(this).closest(".side-div").css("display","none"),$("#sider-wrap").scrollTop(0),$("#side-carstyle").html("<div class='seo-loading'>正在加载，请稍后</div>"),$("#side-carstyle").css("display","block"),TC.getCar.appendCar(styleJson,a,b)})}},error:function(){alert("系统忙，请稍后！")}})},TC.getCar.appendCar=function(a,b,c){a&&(TC.getCar.getCarajax.carurl=a.curl,TC.getCar.getCarajax.cartype=a.ctype,TC.getCar.getCarajax.cardataType=a.cdataType,TC.getCar.getCarajax.cardataData=a.cdata),TC.getCar.getCarajax.cardataData.brandId=b,$.ajax({url:TC.getCar.getCarajax.carurl,type:TC.getCar.getCarajax.cartype,dataType:TC.getCar.getCarajax.cardataType,data:TC.getCar.getCarajax.cardataData,success:function(a){var d,e,f,g;a=a.result,$("#side-brand").data("dada",b),$("#side-brand").data("name",c),d='<div class="side-header"><span class="side-back"></span><span class="title">选择车型</span></div>',e="";for(f in a)if(a[f]){e+='<dl class="side-list"><dt class="side-list-dt">'+a[f].brandName+"</dt>";for(g in a[f].styleList)e+='<dd class="clearfix side-list-dd" data-rel="'+a[f].brandId+"@#"+a[f].styleList[g].id+'">'+'<div class="fl carimg"><img src="'+a[f].styleList[g].logo+'"/></div>'+'<div class="fl carinfo">'+'<p class="carname">'+a[f].styleList[g].styleName+"</p>"+"</div>"+"</dd>";e+="</dl>"}$("#side-carstyle").html(d+e),$("#side-carstyle").delegate(".side-list-dd","click",function(){var a=$(this).data("rel"),b=$(this).find(".carname").text();$("#side-carstyle").data("dada",a),$("#side-carstyle").data("name",b),$("#brand-value").val($("#side-brand").data("dada")),$("#style-value").val($("#side-carstyle").data("dada")),$("#styleName").val(b),$("#getCarStyle").text($("#side-brand").data("name")+"-"+$("#side-carstyle").data("name")).css("color","#000"),TC.sideSlider.close()})},error:function(){$(this).closest(".side-div").css("display","none"),SIDE.close(),alert("系统忙，请稍后")}})},TC.getCar.init=function(a,b){0==$("#sider-wrap").size()?($("body").append(TC.getCar.Html),TC.getCar.appendBrand(a,b),$("#sider-mark").click(function(){TC.sideSlider.close()}),$(".side-div").delegate(".side-back-all","click",function(){$("#sider-wrap").scrollTop(0),$(this).closest(".side-div").css("display","none"),TC.sideSlider.close()}),$(".side-div").delegate(".side-back","click",function(){$("#sider-wrap").scrollTop(0),$(this).closest(".side-div").prev(".side-div").css("display","block"),$(this).closest(".side-div").css("display","none")})):$("#side-brand").find(".side-list").size()>0?($(".side-div").hide(),$("#side-brand").show(),TC.sideSlider.open()):TC.ToastBox.show({msg:"该城市没有开通团购车型",bottom:"50%"})}}(),function(){TC.is_weixin=TC.is_weixin||{},TC.is_weixin.init=function(){var a=navigator.userAgent.toLowerCase();TC.is_weixin="micromessenger"==a.match(/MicroMessenger/i)?!0:!1}}(),function(){TC.browser=TC.browser||{},TC.browser.versions=function(){var a=navigator.userAgent;return navigator.appVersion,{trident:a.indexOf("Trident")>-1,presto:a.indexOf("Presto")>-1,webKit:a.indexOf("AppleWebKit")>-1,gecko:a.indexOf("Gecko")>-1&&-1==a.indexOf("KHTML"),mobile:!!a.match(/AppleWebKit.*Mobile.*/)||!!a.match(/AppleWebKit/),ios:!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:a.indexOf("Android")>-1||a.indexOf("Linux")>-1,iPhone:a.indexOf("iPhone")>-1||a.indexOf("Mac")>-1,iPad:a.indexOf("iPad")>-1,webApp:-1==a.indexOf("Safari")}},TC.browser.language=(navigator.browserLanguage||navigator.language).toLowerCase()}(),function(){TC.sideSlider={},TC.scrollTop=0,TC.sideSlider.open=function(){$("#sider-mark").height($(document).height()),$("#sider-wrap,#sider-mark").css("display","block"),scrollTop=$(window).scrollTop(),$("body").css("position","fixed")},TC.sideSlider.close=function(){$("body").css("position","static"),$(window).scrollTop(scrollTop),$("#sider-wrap,#sider-mark").hide("fast",function(){$("#sider-wrap").scrollTop(0)})}}(),$(function(){$(".scrollLoading").size()>0&&$(".scrollLoading").scrollLoading()});